# v1.1 Release Notes - Smart Variety & Preferences

Date: 2026-02-12

## Summary

v1.1 improves weekly planning freshness and user control while preserving fast one-click flows.

## What’s New

- Single View architecture on `/` for all users
- Meal management in slide-over drawer
- Rating system in meal list (thumbs down / neutral / thumbs up)
- Complexity levels (Simple / Medium / Avancerad) with badges
- Smarter plan generation:
  - 14-day recency deprioritization
  - favorite streak guard
  - graceful fallback messages for small libraries
- Progressive swap:
  - preloaded quick-swap candidates
  - “Byt med filter” with complexity/rating/recency filters
  - filter counts and zero-result fallbacks

## Technical Highlights

- UsageHistory-driven recency model
- New swap actions:
  - `getSwapOptions(day, filters)`
  - `swapDayMealWithChoice(day, mealId)`
- Added unit + integration-style tests for selection/actions

## Migration/Ops

- Requires schema containing `Rating`, `Complexity`, and `UsageHistory`
- Ensure Prisma schema is applied before deployment (`db push`/migrate path)

## Known Notes

- `next lint` deprecation warning remains (Next.js 16 migration path)
- Service worker registration is production-only to avoid stale dev server actions
