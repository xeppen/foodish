---
phase: 09-complexity-levels
plan: 03
type: execute
wave: 2
depends_on:
  - 09-01
  - 09-02
files_modified:
  - components/meal-list.tsx
  - components/meal-card.tsx
  - lib/actions/meals.test.ts
autonomous: true
---

# 09-03 Plan: Complexity Badges + Tests

## Objective
Render complexity badges in meal list and validate complexity update behavior with tests.

## Scope
- Add compact badge component/styling for `SIMPLE`, `MEDIUM`, `COMPLEX`.
- Display badge inline in drawer meal rows.
- Add tests for complexity persistence through actions.

## Tasks
1. Implement badge rendering with clear color mapping.
2. Update list row density to keep readability with badge present.
3. Add tests for create/edit complexity persistence.

## Verification
- Badges appear for all meals with correct labels/colors.
- Tests cover complexity writes and updates.
- `pnpm test`, `pnpm lint`, `pnpm build` pass.

## Success Criteria
- `COMPLEX-03` and `COMPLEX-05` complete with test coverage.
